module.exports=[41710,a=>{"use strict";let b=(0,a.i(70106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],41710)},25635,a=>{"use strict";let b=(0,a.i(70106).default)("compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Compass",()=>b],25635)},75849,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(50944),e=a.i(41710),f=a.i(25635),g=a.i(70106);let h=(0,g.default)("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),i=(0,g.default)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),j=(0,g.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),k=(0,g.default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),l=[{href:"/",label:"Jadwal",icon:e.Clock},{href:"/compass",label:"Kompas",icon:f.Compass},{href:"/ramadhan",label:"Ramadhan",icon:j},{href:"/quran",label:"Quran",icon:k},{href:"/pathway",label:"Peta",icon:h},{href:"/videos",label:"Video",icon:i}];function m({visible:a=!0}){let e=(0,d.usePathname)();return(0,b.jsx)("div",{className:`
        fixed bottom-6 left-1/2 z-[1000]
        -translate-x-1/2
        w-[90%] max-w-md
        rounded-2xl
        bg-white
        shadow-xl
        p-2
        flex gap-2
        transition-all duration-300
        ${a?"translate-y-0 opacity-100":"translate-y-24 opacity-0 pointer-events-none"}
      `,children:l.map(a=>{let d=e===a.href,f=a.icon;return(0,b.jsx)(c.default,{href:a.href,className:`
              flex flex-1 flex-col items-center justify-center
              gap-1 py-2 rounded-xl
              text-xs font-medium
              transition-all duration-300
              ${d?"bg-[var(--color-royal)] text-white shadow-md":"text-purple-700 hover:bg-purple-50"}
            `,children:(0,b.jsx)(f,{size:18,strokeWidth:2.2})},a.href)})})}a.s(["default",()=>m],75849)},51026,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(70106);let e=(0,d.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),f=(0,d.default)("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]),g=(0,d.default)("mic-off",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]]);var h=a.i(8406);let i=(0,d.default)("circle-stop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);var j=a.i(75849);let k=["Apa keutamaan shalat Tahajud?","Bacaan doa setelah shalat fardhu?","Bagaimana cara mempersingkat shalat saat safar?","Apa amalan terbaik di bulan Ramadhan?"];function l({role:a,content:c,isStreaming:d}){let e="user"===a;return(0,b.jsxs)("div",{className:`flex gap-3 ${e?"flex-row-reverse":"flex-row"} items-end`,children:[!e&&(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#7c3aed] to-[#5b2d8b] flex items-center justify-center flex-shrink-0 shadow",children:(0,b.jsx)(h.Sparkles,{size:14,className:"text-white"})}),(0,b.jsxs)("div",{className:`
          max-w-[78%] px-4 py-3 rounded-2xl text-sm leading-relaxed
          ${e?"bg-[var(--color-royal)] text-white rounded-br-sm":"bg-white text-gray-800 rounded-bl-sm shadow-sm border border-gray-100"}
        `,children:[c,d&&(0,b.jsx)("span",{className:"inline-block ml-1 w-1.5 h-4 bg-purple-400 rounded-sm animate-pulse align-middle"})]})]})}function m(){let[a,d]=(0,c.useState)([]),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(null),u=(0,c.useRef)(null),v=(0,c.useRef)(null),w=(0,c.useRef)(null);(0,c.useEffect)(()=>{u.current?.scrollIntoView({behavior:"smooth"})},[a]);let x=async b=>{let c=(b||m).trim();if(!c||o)return;t(null),n(""),v.current&&(v.current.style.height="auto");let e=[...a,{role:"user",content:c}];d(e),p(!0),d(a=>[...a,{role:"assistant",content:"",isStreaming:!0}]);try{let a=await fetch("/api/ai-chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e})});if(!a.ok)throw Error("Gagal menghubungi AI");let b=a.body.getReader(),c=new TextDecoder,f="";for(;;){let{done:a,value:e}=await b.read();if(a)break;f+=c.decode(e,{stream:!0}),d(a=>{let b=[...a];return b[b.length-1]={role:"assistant",content:f,isStreaming:!0},b})}d(a=>{let b=[...a];return b[b.length-1]={role:"assistant",content:f,isStreaming:!1},b})}catch(a){console.error(a),t("Terjadi kesalahan. Pastikan GROQ_API_KEY sudah diisi di .env dan coba lagi."),d(a=>a.filter((b,c)=>c!==a.length-1))}finally{p(!1)}};return(0,b.jsxs)("div",{className:"flex flex-col min-h-screen bg-zinc-50",children:[(0,b.jsx)("div",{className:"sticky top-[56px] z-50 w-full bg-white border-b border-gray-100 shadow-sm",children:(0,b.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-3 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-[#7c3aed] to-[#5b2d8b] flex items-center justify-center shadow",children:(0,b.jsx)(h.Sparkles,{size:18,className:"text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-base font-bold text-gray-900",children:"Tanya AI"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Ushalli AI Â· Didukung Groq"})]}),(0,b.jsxs)("div",{className:"ml-auto flex items-center gap-1.5",children:[(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),(0,b.jsx)("span",{className:"text-xs text-green-600 font-medium",children:"Online"})]})]})}),(0,b.jsxs)("main",{className:"flex-1 w-full max-w-3xl mx-auto px-4 pt-4 pb-52 flex flex-col gap-4",children:[0===a.length&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center pt-10 gap-6",children:[(0,b.jsx)("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-br from-[#7c3aed] to-[#5b2d8b] flex items-center justify-center shadow-xl shadow-purple-200",children:(0,b.jsx)(h.Sparkles,{size:36,className:"text-white"})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-gray-800",children:"Assalamu'alaikum!"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1 max-w-xs",children:"Tanyakan apa saja seputar Islam kepada saya. Saya siap membantu! ðŸ¤²"})]}),(0,b.jsx)("div",{className:"w-full grid grid-cols-1 gap-2",children:k.map((a,c)=>(0,b.jsxs)("button",{onClick:()=>x(a),className:"text-left px-4 py-3 bg-white rounded-xl border border-purple-100 text-sm text-gray-700 hover:border-purple-400 hover:bg-purple-50 transition-all duration-150 shadow-sm",children:["ðŸ’¬ ",a]},c))})]}),a.map((a,c)=>(0,b.jsx)(l,{role:a.role,content:a.content,isStreaming:a.isStreaming},c)),s&&(0,b.jsx)("div",{className:"text-xs text-red-600 bg-red-50 px-4 py-2 rounded-xl border border-red-100 text-center",children:s}),(0,b.jsx)("div",{ref:u})]}),(0,b.jsx)("div",{className:"fixed bottom-[76px] left-0 right-0 z-50 px-4 pb-2",children:(0,b.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 flex items-end gap-2 px-3 py-2",children:[(0,b.jsx)("button",{onClick:()=>{if(!("SpeechRecognition"in window||"webkitSpeechRecognition"in window))return void t("Browser kamu tidak mendukung input suara.");if(q){w.current?.stop(),r(!1);return}let a=new(window.SpeechRecognition||window.webkitSpeechRecognition);a.lang="id-ID",a.continuous=!1,a.interimResults=!1,a.onstart=()=>r(!0),a.onend=()=>r(!1),a.onerror=()=>{r(!1),t("Gagal menangkap suara. Coba lagi.")},a.onresult=a=>{let b=a.results[0][0].transcript;n(a=>a?a+" "+b:b),v.current&&(v.current.style.height="auto",v.current.style.height=Math.min(v.current.scrollHeight,120)+"px")},w.current=a,a.start()},className:`
                flex-shrink-0 w-9 h-9 rounded-xl flex items-center justify-center transition-all duration-200
                ${q?"bg-red-500 text-white shadow shadow-red-200 animate-pulse":"text-purple-500 hover:bg-purple-50"}
              `,"aria-label":q?"Stop recording":"Voice input",children:q?(0,b.jsx)(g,{size:18}):(0,b.jsx)(f,{size:18})}),(0,b.jsx)("textarea",{ref:v,rows:1,value:m,onChange:a=>{n(a.target.value),a.target.style.height="auto",a.target.style.height=Math.min(a.target.scrollHeight,120)+"px"},onKeyDown:a=>{"Enter"!==a.key||a.shiftKey||(a.preventDefault(),x())},placeholder:q?"ðŸŽ™ï¸ Mendengarkan...":"Tanyakan sesuatu...",disabled:o,className:"flex-1 resize-none bg-transparent text-sm text-gray-800 placeholder-gray-400 outline-none py-1.5 max-h-[120px] leading-relaxed"}),(0,b.jsx)("button",{onClick:()=>x(),disabled:!m.trim()||o,className:`
                flex-shrink-0 w-9 h-9 rounded-xl flex items-center justify-center transition-all duration-200
                ${m.trim()&&!o?"bg-[var(--color-royal)] text-white shadow shadow-purple-200 hover:bg-[var(--color-royal-hover)] hover:scale-105":"bg-gray-100 text-gray-400 cursor-not-allowed"}
              `,"aria-label":"Kirim pesan",children:o?(0,b.jsx)(i,{size:18,className:"animate-spin"}):(0,b.jsx)(e,{size:16})})]}),q&&(0,b.jsx)("p",{className:"text-center text-xs text-red-500 mt-1 animate-pulse",children:"ðŸ”´ Sedang merekam... klik mic untuk berhenti"})]})}),(0,b.jsx)(j.default,{})]})}a.s(["default",()=>m],51026)}];

//# sourceMappingURL=_3fc2ccca._.js.map