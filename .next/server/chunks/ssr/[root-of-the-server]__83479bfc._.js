module.exports=[72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},69452,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=(0,c.createContext)(null);function e({children:a}){let[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(null),s=(0,c.useCallback)(a=>{f(a)},[]),t=(0,c.useCallback)(async(a,b)=>{try{let c=await fetch(`/api/reverse-geocode?lat=${a}&lon=${b}`);if(!c.ok)throw Error();let d=(await c.json()).data,e=d.address.suburb||d.address.town||d.address.village||d.address.county||d.address.state||d.address.city;return n(d.address.neighbourhood),j(d.address.city),h(d.display_name||null),l(e||""),e}catch(a){return console.error(a),null}},[]),u=(0,c.useCallback)((a,b)=>{p(a),r(b)},[]);return(0,b.jsx)(d.Provider,{value:{coords:e,updateCoords:s,locationName:k,address:g,getLocationName:t,prayers:o,lastPrayerCoords:q,setPrayerData:u,neighborhood:m,region:i},children:a})}function f(){return(0,c.useContext)(d)}a.s(["LocationProvider",()=>e,"useLocationContext",()=>f])},8406,a=>{"use strict";let b=(0,a.i(70106).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);a.s(["Sparkles",()=>b],8406)},57366,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=(0,c.createContext)(null);function e({children:a}){let e=function(){let[a,b]=(0,c.useState)(!1),[d,e]=(0,c.useState)("default"),[f,g]=(0,c.useState)(!1),[h,i]=(0,c.useState)(!1),j=(0,c.useCallback)(async()=>{},[null]);(0,c.useEffect)(()=>{b(!1)},[j]);let k=(0,c.useCallback)(async()=>{if(!a)return{ok:!1};let b=await Notification.requestPermission();return e(b),"granted"===b?{ok:!0}:{ok:!1,error:"Permission denied"}},[a]),l=(0,c.useCallback)(async()=>{try{let a,b,c;if(g(!0),"granted"!==d){let a=await k();if(!a.ok)return a}let e=await navigator.serviceWorker.ready,f=await fetch("/api/vapid-public-key"),{publicKey:h}=await f.json(),j=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:(a="=".repeat((4-h.length%4)%4),b=(h+a).replace(/-/g,"+").replace(/_/g,"/"),c=atob(b),Uint8Array.from([...c].map(a=>a.charCodeAt(0))))}),l=a=>a?btoa(String.fromCharCode(...new Uint8Array(a))):null,m={userId:null,endpoint:j.endpoint,keys:{p256dh:l(j.getKey("p256dh")),auth:l(j.getKey("auth"))},subscription:j.toJSON()};if(!m.userId)throw Error("userId is missing");if(!m.endpoint)throw Error("subscription endpoint missing");await fetch("/api/push/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});let n=localStorage.getItem("user_coords");if(n){let{lat:a,lon:b}=JSON.parse(n);await fetch("/api/prayer-times",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lat:a,lon:b,userId:null,persist:!0})})}return i(!0),{ok:!0}}catch(a){return{ok:!1,error:a.message}}finally{g(!1)}},[d,k,null]);return{permission:d,isSupported:a,isSubscribed:h,loading:f,subscribeToPush:l,unsubscribeFromPush:(0,c.useCallback)(async()=>{try{g(!0);let a=await navigator.serviceWorker.ready,b=await a.pushManager.getSubscription();return b&&await b.unsubscribe(),await fetch("/api/push/unsubscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:null})}),i(!1),{ok:!0}}catch(a){return{ok:!1,error:a.message}}finally{g(!1)}},[null])}}();return(0,b.jsx)(d.Provider,{value:e,children:a})}a.s(["PushProvider",()=>e,"usePush",0,()=>(0,c.useContext)(d)],57366)},51825,a=>{"use strict";var b=a.i(72131);function c(){return(0,b.useEffect)(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(()=>{console.log("Service Worker registered")}).catch(a=>{console.error("SW registration failed:",a)})},[]),null}a.s(["default",()=>c])},52175,a=>{"use strict";var b=a.i(87924),c=a.i(71987),d=a.i(38246);function e(){return(0,b.jsx)("header",{className:"absolute top-0 left-0 w-full z-50",children:(0,b.jsx)("nav",{className:"flex items-center h-14 px-4",children:(0,b.jsx)(d.default,{href:"/",className:"flex items-center",children:(0,b.jsx)(c.default,{src:"/logo.png",alt:"Ushalli Logo",width:85,height:85,priority:!0})})})})}a.s(["default",()=>e])},79200,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(8406);function e(){let a=(0,c.useRouter)();return"/tanya-ai"===(0,c.usePathname)()?null:(0,b.jsxs)("button",{onClick:()=>a.push("/tanya-ai"),"aria-label":"Tanya AI",className:" fixed bottom-[96px] right-5 z-[99999] w-13 h-13 flex items-center justify-center rounded-full shadow-lg shadow-purple-500/40 bg-gradient-to-br from-[#7c3aed] to-[#5b2d8b] text-white transition-all duration-200 hover:scale-110 hover:shadow-xl hover:shadow-purple-500/50 active:scale-95 ",style:{width:52,height:52},children:[(0,b.jsx)("span",{className:"absolute inline-flex w-full h-full rounded-full bg-purple-400 opacity-30 animate-ping"}),(0,b.jsx)(d.Sparkles,{size:22,strokeWidth:2,className:"relative z-10"})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__83479bfc._.js.map