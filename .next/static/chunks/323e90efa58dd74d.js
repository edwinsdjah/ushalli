(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3116,e=>{"use strict";let a=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>a],3116)},94908,e=>{"use strict";let a=(0,e.i(75254).default)("compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Compass",()=>a],94908)},13487,e=>{"use strict";var a=e.i(43476),t=e.i(22016),r=e.i(18566),s=e.i(3116),l=e.i(94908),i=e.i(75254);let n=(0,i.default)("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),d=(0,i.default)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),o=(0,i.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),c=(0,i.default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),h=[{href:"/",label:"Jadwal",icon:s.Clock},{href:"/compass",label:"Kompas",icon:l.Compass},{href:"/ramadhan",label:"Ramadhan",icon:o},{href:"/quran",label:"Quran",icon:c},{href:"/pathway",label:"Peta",icon:n},{href:"/videos",label:"Video",icon:d}];function x({visible:e=!0}){let s=(0,r.usePathname)();return(0,a.jsx)("div",{className:`
        fixed bottom-6 left-1/2 z-[1000]
        -translate-x-1/2
        w-[90%] max-w-md
        rounded-2xl
        bg-white
        shadow-xl
        p-2
        flex gap-2
        transition-all duration-300
        ${e?"translate-y-0 opacity-100":"translate-y-24 opacity-0 pointer-events-none"}
      `,children:h.map(e=>{let r=s===e.href,l=e.icon;return(0,a.jsx)(t.default,{href:e.href,className:`
              flex flex-1 flex-col items-center justify-center
              gap-1 py-2 rounded-xl
              text-xs font-medium
              transition-all duration-300
              ${r?"bg-[var(--color-royal)] text-white shadow-md":"text-purple-700 hover:bg-purple-50"}
            `,children:(0,a.jsx)(l,{size:18,strokeWidth:2.2})},e.href)})})}e.s(["default",()=>x],13487)},9687,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(75254);let s=(0,r.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),l=(0,r.default)("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]),i=(0,r.default)("mic-off",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]]);var n=e.i(83086);let d=(0,r.default)("circle-stop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);var o=e.i(13487);let c=["Apa keutamaan shalat Tahajud?","Bacaan doa setelah shalat fardhu?","Bagaimana cara mempersingkat shalat saat safar?","Apa amalan terbaik di bulan Ramadhan?"];function h({role:e,content:t,isStreaming:r}){let s="user"===e;return(0,a.jsxs)("div",{className:`flex gap-3 ${s?"flex-row-reverse":"flex-row"} items-end`,children:[!s&&(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#7c3aed] to-[#5b2d8b] flex items-center justify-center flex-shrink-0 shadow",children:(0,a.jsx)(n.Sparkles,{size:14,className:"text-white"})}),(0,a.jsxs)("div",{className:`
          max-w-[78%] px-4 py-3 rounded-2xl text-sm leading-relaxed
          ${s?"bg-[var(--color-royal)] text-white rounded-br-sm":"bg-white text-gray-800 rounded-bl-sm shadow-sm border border-gray-100"}
        `,children:[t,r&&(0,a.jsx)("span",{className:"inline-block ml-1 w-1.5 h-4 bg-purple-400 rounded-sm animate-pulse align-middle"})]})]})}function x(){let[e,r]=(0,t.useState)([]),[x,u]=(0,t.useState)(""),[m,p]=(0,t.useState)(!1),[g,f]=(0,t.useState)(!1),[y,b]=(0,t.useState)(null),w=(0,t.useRef)(null),k=(0,t.useRef)(null),v=(0,t.useRef)(null);(0,t.useEffect)(()=>{w.current?.scrollIntoView({behavior:"smooth"})},[e]);let j=async a=>{let t=(a||x).trim();if(!t||m)return;b(null),u(""),k.current&&(k.current.style.height="auto");let s=[...e,{role:"user",content:t}];r(s),p(!0),r(e=>[...e,{role:"assistant",content:"",isStreaming:!0}]);try{let e=await fetch("/api/ai-chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:s})});if(!e.ok)throw Error("Gagal menghubungi AI");let a=e.body.getReader(),t=new TextDecoder,l="";for(;;){let{done:e,value:s}=await a.read();if(e)break;l+=t.decode(s,{stream:!0}),r(e=>{let a=[...e];return a[a.length-1]={role:"assistant",content:l,isStreaming:!0},a})}r(e=>{let a=[...e];return a[a.length-1]={role:"assistant",content:l,isStreaming:!1},a})}catch(e){console.error(e),b("Terjadi kesalahan. Pastikan GROQ_API_KEY sudah diisi di .env dan coba lagi."),r(e=>e.filter((a,t)=>t!==e.length-1))}finally{p(!1)}};return(0,a.jsxs)("div",{className:"flex flex-col min-h-screen bg-zinc-50",children:[(0,a.jsx)("div",{className:"sticky top-[56px] z-50 w-full bg-white border-b border-gray-100 shadow-sm",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-3 flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-[#7c3aed] to-[#5b2d8b] flex items-center justify-center shadow",children:(0,a.jsx)(n.Sparkles,{size:18,className:"text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-base font-bold text-gray-900",children:"Tanya AI"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Ushalli AI Â· Didukung Groq"})]}),(0,a.jsxs)("div",{className:"ml-auto flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),(0,a.jsx)("span",{className:"text-xs text-green-600 font-medium",children:"Online"})]})]})}),(0,a.jsxs)("main",{className:"flex-1 w-full max-w-3xl mx-auto px-4 pt-4 pb-52 flex flex-col gap-4",children:[0===e.length&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center pt-10 gap-6",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-br from-[#7c3aed] to-[#5b2d8b] flex items-center justify-center shadow-xl shadow-purple-200",children:(0,a.jsx)(n.Sparkles,{size:36,className:"text-white"})}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-gray-800",children:"Assalamu'alaikum!"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1 max-w-xs",children:"Tanyakan apa saja seputar Islam kepada saya. Saya siap membantu! ðŸ¤²"})]}),(0,a.jsx)("div",{className:"w-full grid grid-cols-1 gap-2",children:c.map((e,t)=>(0,a.jsxs)("button",{onClick:()=>j(e),className:"text-left px-4 py-3 bg-white rounded-xl border border-purple-100 text-sm text-gray-700 hover:border-purple-400 hover:bg-purple-50 transition-all duration-150 shadow-sm",children:["ðŸ’¬ ",e]},t))})]}),e.map((e,t)=>(0,a.jsx)(h,{role:e.role,content:e.content,isStreaming:e.isStreaming},t)),y&&(0,a.jsx)("div",{className:"text-xs text-red-600 bg-red-50 px-4 py-2 rounded-xl border border-red-100 text-center",children:y}),(0,a.jsx)("div",{ref:w})]}),(0,a.jsx)("div",{className:"fixed bottom-[76px] left-0 right-0 z-50 px-4 pb-2",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 flex items-end gap-2 px-3 py-2",children:[(0,a.jsx)("button",{onClick:()=>{if(!("SpeechRecognition"in window||"webkitSpeechRecognition"in window))return void b("Browser kamu tidak mendukung input suara.");if(g){v.current?.stop(),f(!1);return}let e=new(window.SpeechRecognition||window.webkitSpeechRecognition);e.lang="id-ID",e.continuous=!1,e.interimResults=!1,e.onstart=()=>f(!0),e.onend=()=>f(!1),e.onerror=()=>{f(!1),b("Gagal menangkap suara. Coba lagi.")},e.onresult=e=>{let a=e.results[0][0].transcript;u(e=>e?e+" "+a:a),k.current&&(k.current.style.height="auto",k.current.style.height=Math.min(k.current.scrollHeight,120)+"px")},v.current=e,e.start()},className:`
                flex-shrink-0 w-9 h-9 rounded-xl flex items-center justify-center transition-all duration-200
                ${g?"bg-red-500 text-white shadow shadow-red-200 animate-pulse":"text-purple-500 hover:bg-purple-50"}
              `,"aria-label":g?"Stop recording":"Voice input",children:g?(0,a.jsx)(i,{size:18}):(0,a.jsx)(l,{size:18})}),(0,a.jsx)("textarea",{ref:k,rows:1,value:x,onChange:e=>{u(e.target.value),e.target.style.height="auto",e.target.style.height=Math.min(e.target.scrollHeight,120)+"px"},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),j())},placeholder:g?"ðŸŽ™ï¸ Mendengarkan...":"Tanyakan sesuatu...",disabled:m,className:"flex-1 resize-none bg-transparent text-sm text-gray-800 placeholder-gray-400 outline-none py-1.5 max-h-[120px] leading-relaxed"}),(0,a.jsx)("button",{onClick:()=>j(),disabled:!x.trim()||m,className:`
                flex-shrink-0 w-9 h-9 rounded-xl flex items-center justify-center transition-all duration-200
                ${x.trim()&&!m?"bg-[var(--color-royal)] text-white shadow shadow-purple-200 hover:bg-[var(--color-royal-hover)] hover:scale-105":"bg-gray-100 text-gray-400 cursor-not-allowed"}
              `,"aria-label":"Kirim pesan",children:m?(0,a.jsx)(d,{size:18,className:"animate-spin"}):(0,a.jsx)(s,{size:16})})]}),g&&(0,a.jsx)("p",{className:"text-center text-xs text-red-500 mt-1 animate-pulse",children:"ðŸ”´ Sedang merekam... klik mic untuk berhenti"})]})}),(0,a.jsx)(o.default,{})]})}e.s(["default",()=>x],9687)}]);