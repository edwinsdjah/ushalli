(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},94908,e=>{"use strict";let t=(0,e.i(75254).default)("compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Compass",()=>t],94908)},13487,e=>{"use strict";var t=e.i(43476),a=e.i(22016),l=e.i(18566),r=e.i(3116),n=e.i(94908),s=e.i(75254);let i=(0,s.default)("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),o=(0,s.default)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),c=(0,s.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),u=(0,s.default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),d=[{href:"/",label:"Jadwal",icon:r.Clock},{href:"/compass",label:"Kompas",icon:n.Compass},{href:"/ramadhan",label:"Ramadhan",icon:c},{href:"/quran",label:"Quran",icon:u},{href:"/pathway",label:"Peta",icon:i},{href:"/videos",label:"Video",icon:o}];function f({visible:e=!0}){let r=(0,l.usePathname)();return(0,t.jsx)("div",{className:`
        fixed bottom-6 left-1/2 z-[1000]
        -translate-x-1/2
        w-[90%] max-w-md
        rounded-2xl
        bg-white
        shadow-xl
        p-2
        flex gap-2
        transition-all duration-300
        ${e?"translate-y-0 opacity-100":"translate-y-24 opacity-0 pointer-events-none"}
      `,children:d.map(e=>{let l=r===e.href,n=e.icon;return(0,t.jsx)(a.default,{href:e.href,className:`
              flex flex-1 flex-col items-center justify-center
              gap-1 py-2 rounded-xl
              text-xs font-medium
              transition-all duration-300
              ${l?"bg-[var(--color-royal)] text-white shadow-md":"text-purple-700 hover:bg-purple-50"}
            `,children:(0,t.jsx)(n,{size:18,strokeWidth:2.2})},e.href)})})}e.s(["default",()=>f],13487)},67585,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let l=e.r(32061);function r({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new l.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,a)=>{"use strict";function l(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"encodeURIPath",{enumerable:!0,get:function(){return l}})},52157,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"PreloadChunks",{enumerable:!0,get:function(){return i}});let l=e.r(43476),r=e.r(74080),n=e.r(63599),s=e.r(9885);function i({moduleIds:e}){if("undefined"!=typeof window)return null;let t=n.workAsyncStorage.getStore();if(void 0===t)return null;let a=[];if(t.reactLoadableManifest&&e){let l=t.reactLoadableManifest;for(let t of e){if(!l[t])continue;let e=l[t].files;a.push(...e)}}return 0===a.length?null:(0,l.jsx)(l.Fragment,{children:a.map(e=>{let a=`${t.assetPrefix}/_next/${(0,s.encodeURIPath)(e)}`;return e.endsWith(".css")?(0,l.jsx)("link",{precedence:"dynamic",href:a,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,r.preload)(a,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return c}});let l=e.r(43476),r=e.r(71645),n=e.r(67585),s=e.r(52157);function i(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},c=function(e){let t={...o,...e},a=(0,r.lazy)(()=>t.loader().then(i)),c=t.loading;function u(e){let i=c?(0,l.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,u=o?r.Suspense:r.Fragment,d=t.ssr?(0,l.jsxs)(l.Fragment,{children:["undefined"==typeof window?(0,l.jsx)(s.PreloadChunks,{moduleIds:t.modules}):null,(0,l.jsx)(a,{...e})]}):(0,l.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(a,{...e})});return(0,l.jsx)(u,{...o?{fallback:i}:{},children:d})}return u.displayName="LoadableComponent",u}},70703,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r}});let l=e.r(55682)._(e.r(69093));function r(e,t){let a={};"function"==typeof e&&(a.loader=e);let r={...a,...t};return(0,l.default)({...r,modules:r.loadableGenerated?.modules})}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},95949,e=>{"use strict";var t=e.i(43476),a=e.i(71645),l=e.i(75254);let r=(0,l.default)("person-standing",[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["path",{d:"m9 20 3-6 3 6",key:"se2kox"}],["path",{d:"m6 8 6 2 6-2",key:"4o3us4"}],["path",{d:"M12 10v4",key:"1kjpxc"}]]),n=(0,l.default)("bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]),s=(0,l.default)("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);var i=e.i(22016),o=e.i(57688);let c=[{key:"walk",icon:r},{key:"bicycle",icon:n},{key:"drive",icon:s}];function u({address:e,radius:a,setRadius:l,routeInfo:r,onChangeMode:n,onClearRoute:s}){return(0,t.jsxs)("div",{className:"absolute top-0 z-[1000] w-full",children:[(0,t.jsxs)("div",{className:"backdrop-blur p-4 shadow-sm",children:[(0,t.jsx)(i.default,{href:"/",className:"flex items-center",children:(0,t.jsx)(o.default,{src:"/logo.png",alt:"Ushalli Logo",width:85,height:85,priority:!0})}),(0,t.jsxs)("div",{className:"bg-gray-100 rounded-2xl px-4 py-4 mt-2",children:[(0,t.jsx)("div",{className:"text-[11px] text-gray-500",children:"Lokasi Anda"}),(0,t.jsx)("div",{className:"text-sm font-medium text-gray-800 truncate",children:e})]}),(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-[11px] text-gray-500 mb-1",children:[(0,t.jsx)("span",{children:"Radius"}),(0,t.jsxs)("span",{children:[a," m"]})]}),(0,t.jsx)("input",{type:"range",min:500,max:5e3,step:100,value:a,onChange:e=>l(Number(e.target.value)),className:" w-full h-1 bg-transparent accent-royal cursor-pointer ",style:{accentColor:"var(--color-royal)"}})]})]}),r&&(0,t.jsx)("div",{className:"flex gap-3 mt-2 items-center px-3",children:c.map(e=>{let a=r.mode===e.key,l=e.icon;return(0,t.jsx)("button",{onClick:()=>n(e.key),title:e.key,className:`
                  flex items-center justify-center
                  w-11 h-11 rounded-xl border transition
                  cursor-pointer
                  ${a?"bg-[var(--color-royal)] text-white shadow":"bg-white text-gray-700"}
                `,children:(0,t.jsx)(l,{size:22,strokeWidth:2.5})},e.key)})})]})}e.i(47167);let d="c9c35fe3d6384c429d486f408b5f4c6d";async function f({lat:e,lon:t,radius:a}){let l=`https://api.geoapify.com/v2/places?categories=religion.place_of_worship.islam&filter=circle:${t},${e},${a}&limit=50&apiKey=${d}`,r=await fetch(l);return(await r.json()).features.map(e=>({id:e.properties.place_id,name:e.properties.name||"Masjid",address:e.properties.address_line2||e.properties.address_line1||"",position:[e.geometry.coordinates[1],e.geometry.coordinates[0]]}))}async function m({from:e,to:t,mode:a}){let l=`https://api.geoapify.com/v1/routing?waypoints=${e.lat},${e.lon}|${t[0]},${t[1]}&mode=${a}&apiKey=${d}`,r=await fetch(l),n=await r.json();if(!n.features?.length)throw Error("Routing data not found");let s=n.features[0].geometry,i=[];return"LineString"===s.type&&(i=s.coordinates.map(e=>[e[1],e[0]])),"MultiLineString"===s.type&&(i=s.coordinates.flat().map(e=>[e[1],e[0]])),{coords:i,info:{distance:n.features[0].properties.distance,time:Math.round(n.features[0].properties.time/60),mode:a}}}var p=e.i(60303);function h(e,t){if(!e||!t)return 0;let a=e.lat,l=e.lon,r=t[0],n=t[1];if("number"!=typeof a||"number"!=typeof l||"number"!=typeof r||"number"!=typeof n)return 0;let s=e=>e*Math.PI/180,i=s(r-a),o=s(n-l),c=Math.sin(i/2)**2+Math.cos(s(a))*Math.cos(s(r))*Math.sin(o/2)**2;return 12742e3*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}let x=(0,e.i(70703).default)(()=>e.A(42881),{loadableGenerated:{modules:[1995]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"flex h-full items-center justify-center",children:"Memuat peta..."})});function y({mosque:e,routeInfo:a,onRoute:l,onCancel:r}){let n=!!e,s=!!a;return(0,t.jsx)("div",{className:`
        fixed bottom-0 left-0 right-0 z-[1000]
        transition-all duration-300 ease-out
        ${n?"translate-y-0 opacity-100":"translate-y-full opacity-0"}
        pointer-events-${n?"auto":"none"}
      `,children:(0,t.jsx)("div",{className:" bg-white rounded-3xl shadow-2xl px-5 py-4 md:max-w-[80%] w-[98%] mb-2 mx-auto ",children:(0,t.jsxs)("div",{className:"flex justify-between items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-base font-semibold text-gray-900 leading-tight",children:e?.name}),!s&&(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500 leading-snug",children:e?.address}),s&&a&&(0,t.jsxs)("div",{className:"mt-3 text-sm text-gray-700 space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Jarak:"}),(0,t.jsx)("span",{className:"font-medium",children:a.distance>=1e3?(a.distance/1e3).toFixed(1)+" km":a.distance+" m"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Estimasi:"}),(0,t.jsxs)("span",{className:"font-medium",children:[a.time," menit"]})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[!s&&(0,t.jsx)("button",{onClick:()=>l(e.position,"bicycle"),className:" px-4 py-2 rounded-xl text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 transition cursor-pointer ",children:"Pilih Rute"}),(0,t.jsx)("button",{onClick:r,className:" px-4 py-2 rounded-xl text-sm font-medium border text-white hover:bg-red-800 bg-red-700 transition cursor-pointer ",children:"Batal"})]})]})})})}var g=e.i(13487);function b(){let{coords:e,address:l}=(0,p.useLocationContext)(),[r,n]=(0,a.useState)(2e3),s=function(e,t){let[l,r]=(0,a.useState)([]);return(0,a.useEffect)(()=>{e&&f({lat:e.lat,lon:e.lon,radius:t}).then(r)},[e,t]),l}(e,r),{route:i,routeInfo:o,routeTo:c,clearRoute:d,isLoading:b,lastOrigin:j}=function(e){let[t,l]=(0,a.useState)(null),[r,n]=(0,a.useState)(null),[s,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null);return{route:t,routeInfo:r,routeTo:async(t,a)=>{if(e){i(!0);try{let r=await m({from:e,to:t,mode:a});l(r.coords),n(r.info),c(e)}catch(e){console.error("Failed to fetch route:",e)}finally{i(!1)}}},clearRoute:()=>{l(null),n(null),c(null),i(!1)},isLoading:s,lastOrigin:o}}(e),[v,k]=(0,a.useState)(null);(0,a.useEffect)(()=>{i&&o&&v&&e&&!b&&!(j&&20>h(j,[e.lat,e.lon]))&&function(e,t){if(!e||!t)return 1/0;let a=1/0;for(let[l,r]of e){let e=h(t,[l,r]);e<a&&(a=e)}return a}(i,e)>40&&c(v.position,o.mode)},[e,i,o,v,b,j]);let w=(0,a.useMemo)(()=>{if(!i||!e)return i;let t=function(e,t){if(!e||0===e.length||!t)return 0;let a=1/0,l=0;for(let r=0;r<e.length;r++){let n=e[r][0]-t.lat,s=e[r][1]-t.lon,i=n*n+s*s;i<a&&(a=i,l=r)}return l}(i,e);return i.slice(Math.max(0,t))},[i,e]),M=(0,a.useMemo)(()=>{if(!o||!v||!e||!i)return null;let t=0;for(let e=1;e<w.length;e++){let[a,l]=w[e-1],[r,n]=w[e];t+=h({lat:a,lon:l},[r,n])}let a={walk:80,bicycle:250,drive:600},l=a[o.mode]||a.bicycle;return{...o,distance:Math.round(t),time:t>0?Math.max(1,Math.round(t/l)):null}},[o,v,e,w]),N=()=>{d(),k(null)},P=o&&v?[v]:s;return(0,t.jsxs)("div",{className:"relative h-screen w-full",children:[(0,t.jsx)(u,{address:l,radius:r,setRadius:n,routeInfo:o,onClearRoute:N,onChangeMode:e=>{v&&c(v.position,e)}}),(0,t.jsx)(x,{userPos:e,radius:r,mosques:P,route:w,onRoute:c,isRouting:!!o,onSelectMosque:k,selectedMosque:v}),(0,t.jsx)(y,{mosque:v,routeInfo:M,onRoute:c,onCancel:N}),(0,t.jsx)(g.default,{visible:!v})]})}e.s(["default",()=>b],95949)},42881,e=>{e.v(t=>Promise.all(["static/chunks/a973947c272e5c3a.js","static/chunks/92775ae1698e5da0.css"].map(t=>e.l(t))).then(()=>t(1995)))}]);