(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3116,a=>{"use strict";let e=(0,a.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>e],3116)},94908,a=>{"use strict";let e=(0,a.i(75254).default)("compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Compass",()=>e],94908)},13487,a=>{"use strict";var e=a.i(43476),t=a.i(22016),l=a.i(18566),i=a.i(3116),n=a.i(94908),s=a.i(75254);let r=(0,s.default)("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),o=(0,s.default)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),d=(0,s.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),c=(0,s.default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),u=[{href:"/",label:"Jadwal",icon:i.Clock},{href:"/compass",label:"Kompas",icon:n.Compass},{href:"/ramadhan",label:"Ramadhan",icon:d},{href:"/quran",label:"Quran",icon:c},{href:"/pathway",label:"Peta",icon:r},{href:"/videos",label:"Video",icon:o}];function m({visible:a=!0}){let i=(0,l.usePathname)();return(0,e.jsx)("div",{className:`
        fixed bottom-6 left-1/2 z-[1000]
        -translate-x-1/2
        w-[90%] max-w-md
        rounded-2xl
        bg-white
        shadow-xl
        p-2
        flex gap-2
        transition-all duration-300
        ${a?"translate-y-0 opacity-100":"translate-y-24 opacity-0 pointer-events-none"}
      `,children:u.map(a=>{let l=i===a.href,n=a.icon;return(0,e.jsx)(t.default,{href:a.href,className:`
              flex flex-1 flex-col items-center justify-center
              gap-1 py-2 rounded-xl
              text-xs font-medium
              transition-all duration-300
              ${l?"bg-[var(--color-royal)] text-white shadow-md":"text-purple-700 hover:bg-purple-50"}
            `,children:(0,e.jsx)(n,{size:18,strokeWidth:2.2})},a.href)})})}a.s(["default",()=>m],13487)},33193,a=>{"use strict";function e(a=!1){let t=localStorage.getItem("ushalli_user_id");return a?t||null:(t||(t=crypto.randomUUID(),localStorage.setItem("ushalli_user_id",t)),t)}a.s(["getOrCreateUserId",()=>e])},31343,a=>{"use strict";let e=(0,a.i(75254).default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);a.s(["Play",()=>e],31343)},1593,48501,a=>{"use strict";var e=a.i(43476),t=a.i(31343);function l({video:a,isActive:l=!1,onPlay:i,showUstadz:n=!1,type:s}){return(0,e.jsxs)("div",{className:"grid"===s?"md:w-[23.5%] space-y-2":"space-y-2",children:[(0,e.jsx)("div",{className:"relative aspect-video rounded-2xl overflow-hidden bg-black group",children:l?(0,e.jsx)("iframe",{className:"w-full h-full",src:`https://www.youtube.com/embed/${a.videoId}?autoplay=1`,allow:"autoplay; encrypted-media",allowFullScreen:!0}):(0,e.jsxs)("button",{onClick:i,className:"relative w-full h-full focus:outline-none",children:[(0,e.jsx)("img",{src:a.thumbnail,alt:a.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),(0,e.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:(0,e.jsxs)("div",{className:"relative group-hover:scale-110 transition-transform duration-300",children:[(0,e.jsx)("div",{className:"absolute inset-0 rounded-full bg-white/30 blur-md"}),(0,e.jsx)("div",{className:"relative bg-black/60 backdrop-blur-md p-4 rounded-full shadow-xl",children:(0,e.jsx)(t.Play,{className:"w-6 h-6 ml-0.5",fill:"white",stroke:"white",strokeWidth:0})})]})})]})}),(0,e.jsx)("h3",{className:"text-sm text-black leading-snug line-clamp-2",children:a.title}),n&&(0,e.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 capitalize",children:a.ustadz?.replace("-"," ")})]})}function i(){return(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"relative aspect-video rounded-2xl overflow-hidden bg-zinc-200 dark:bg-zinc-800",children:[(0,e.jsx)("div",{className:"absolute inset-0 shimmer"}),(0,e.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,e.jsx)("div",{className:"w-14 h-14 rounded-full bg-zinc-300/70 dark:bg-zinc-700/70 shimmer"})})]}),(0,e.jsx)("div",{className:"h-4 w-5/6 rounded bg-zinc-200 dark:bg-zinc-800 shimmer"}),(0,e.jsx)("div",{className:"h-4 w-3/4 rounded bg-zinc-200 dark:bg-zinc-800 shimmer"}),(0,e.jsx)("div",{className:"h-3 w-1/3 rounded bg-zinc-200 dark:bg-zinc-800 shimmer"})]})}a.s(["default",()=>l],1593),a.s(["default",()=>i],48501)},81694,a=>{"use strict";var e=a.i(43476),t=a.i(71645);function l({open:a,onAllow:t,onIgnore:l}){return a?(0,e.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,e.jsxs)("div",{className:"bg-white dark:bg-neutral-900 p-6 rounded-xl w-80 shadow-lg",children:[(0,e.jsx)("h2",{className:"text-lg font-bold mb-2",children:"Izinkan Akses Lokasi"}),(0,e.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-300 mb-4",children:"Kami membutuhkan lokasi Anda untuk menampilkan jadwal sholat yang akurat."}),(0,e.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,e.jsx)("button",{onClick:l,className:"px-4 py-2 rounded-md border text-sm",children:"Nanti saja"}),(0,e.jsx)("button",{onClick:t,className:"px-4 py-2 rounded-md bg-blue-600 text-white text-sm",children:"Izinkan"})]})]})}):null}let i={imsak:"Imsak",fajr:"Subuh",sunrise:"Terbit",dhuhr:"Zuhur",asr:"Asar",maghrib:"Maghrib",isha:"Isya"},n=["imsak","fajr","dhuhr","asr","maghrib","isha"];function s(a,e){if(!e)return null;let[t,l]=e.split(":").map(Number),i=new Date(a);return i.setHours(t,l,0,0),i}function r(a,e=new Date){let[t,l]=a.fajr.split(":"),i=new Date(e);i.setDate(i.getDate()+1);let n=i.toISOString().split("T")[0];return new Date(`${n}T${t}:${l}:00`)}function o({size:a="md"}){return(0,e.jsx)("div",{className:`
        ${{sm:"w-4 h-4 border-2",md:"w-6 h-6 border-2",lg:"w-10 h-10 border-4"}[a]}
        border-purple-300
        border-t-purple-700
        rounded-full
        animate-spin
        mx-auto
      `})}let d={imsak:"/icons/ico_subuh.svg",fajr:"/icons/ico_subuh.svg",dhuhr:"/icons/ico_zuhur.svg",asr:"/icons/ico_ashar.svg",maghrib:"/icons/ico_maghrib.svg",isha:"/icons/ico_isya.svg"};function c({className:a=""}){return(0,e.jsx)("span",{className:`bg-purple-200/60 animate-pulse rounded ${a}`})}function u({prayers:a,locationName:l}){let u=!a,{countdown:m,nextPrayer:h,currentPrayer:x}=function(a){let[e,l]=(0,t.useState)(""),[i,n]=(0,t.useState)(""),[o,d]=(0,t.useState)("");return(0,t.useEffect)(()=>{if(!a||0===Object.keys(a).length){l("--:--:--"),n(null),d(null);return}let e=()=>{let e=new Date,t=function(a,e=new Date){let t=s(e,a.fajr),l=s(e,a.sunrise),i=s(e,a.dhuhr),n=s(e,a.asr),o=s(e,a.maghrib),d=s(e,a.isha);return t&&e<t?{name:"fajr",time:t}:l&&e>=t&&e<l?{name:"sunrise",time:l}:i&&l&&e>=l&&e<i?{name:"dhuhr",time:i}:n&&e<n?{name:"asr",time:n}:o&&e<o?{name:"maghrib",time:o}:d&&e<d?{name:"isha",time:d}:{name:"fajr",time:r(a,e)}}(a,e),i=function(a,e=new Date){let t=s(e,a.imsak),l=s(e,a.fajr),i=s(e,a.sunrise),n=s(e,a.dhuhr),o=s(e,a.asr),d=s(e,a.maghrib),c=s(e,a.isha);if(t&&l&&e>=t&&e<l)return"imsak";if(l&&i&&e>=l&&e<i)return"fajr";if(n&&o&&e>=n&&e<o)return"dhuhr";if(o&&d&&e>=o&&e<d)return"asr";if(d&&c&&e>=d&&e<c)return"maghrib";if(c&&e>=c){let t=a.imsak?function(a,e=new Date){let[t,l]=a.imsak.split(":"),i=new Date(e);i.setDate(i.getDate()+1);let n=i.toISOString().split("T")[0];return new Date(`${n}T${t}:${l}:00`)}(a,e):r(a,e);if(e<t)return"isha"}return null}(a,e);if(!t?.time||isNaN(t.time)){l("--:--:--"),n(null),d(i);return}let o=t.time-e;if(o<=0){l("--:--:--"),n(t.name),d(i);return}let c=String(Math.floor(o/36e5)).padStart(2,"0"),u=String(Math.floor(o%36e5/6e4)).padStart(2,"0"),m=String(Math.floor(o%6e4/1e3)).padStart(2,"0");l(`${c}:${u}:${m}`),n(t.name),d(i)};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[a]),{countdown:e,nextPrayer:i,currentPrayer:o}}(a||{}),f=x||h;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"text-right",children:[(0,e.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:new Date().toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),(0,e.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Lokasi :"," ",u?(0,e.jsx)(c,{className:"inline-block w-24 h-3 ml-1"}):l]})]}),(0,e.jsxs)("div",{className:" mx-auto w-full max-w-3xl rounded-3xl p-6 bg-gradient-to-br from-purple-100 via-purple-50 to-white shadow-xl ",children:[(0,e.jsxs)("div",{className:"flex flex-row justify-between gap-6",children:[(0,e.jsx)("div",{className:"flex flex-col md:flex-row justify-between gap-6 mb-6",children:(0,e.jsxs)("div",{children:[(0,e.jsxs)("p",{className:"text-sm text-purple-700",children:["Menuju waktu"," ",["Imsak","Terbit"].includes(i[h])?"":"Sholat ",(0,e.jsx)("span",{className:"font-semibold text-purple-900",children:u?(0,e.jsx)(c,{className:"inline-block w-20 h-4 ml-1"}):i[h]})]}),(0,e.jsx)("div",{className:"mt-3 flex items-center gap-3",children:(0,e.jsx)("div",{className:"text-5xl md:text-6xl font-mono font-bold text-purple-900 tracking-tight",children:u?(0,e.jsx)(o,{size:"lg"}):m})})]})}),!u&&f&&d[f]&&(0,e.jsx)("img",{src:d[f],alt:`Icon ${f}`,className:"w-18 h-18 md:w-12 md:h-12"})]}),(0,e.jsx)("div",{className:"flex gap-3 overflow-x-auto py-2 no-scrollbar",children:n.filter(a=>["imsak","fajr","dhuhr","asr","maghrib","isha"].includes(a)).map(t=>{let l=t===x&&!u;return(0,e.jsxs)("div",{className:`
                  min-w-[110px]
                  rounded-2xl px-4 py-3 text-center
                  ${l?`
                        bg-[var(--color-royal)]
                        text-white
                        scale-105
                        shadow-lg
                        ring-2 ring-[#F5C97A]
                      `:`
                        bg-white
                        border border-gray-200
                        text-gray-800
                      `}
                `,children:[(0,e.jsx)("div",{className:"text-xs font-medium ",children:i[t]}),(0,e.jsx)("div",{className:"mt-1 text-lg font-semibold",children:u?(0,e.jsx)(c,{className:"w-12 h-5 mx-auto"}):a[t]})]},t)})})]})]})}var m=a.i(75254);let h=(0,m.default)("locate-fixed",[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),x=(0,m.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),f=(0,m.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),p=(0,m.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),g=({onUpdate:a,loading:t,locationStatus:l})=>{let i="bg-[var(--color-royal)] hover:bg-purple-700",n="text-white";return t?i="bg-gray-500 cursor-not-allowed":"same"===l?(i="bg-gray-300",n="text-gray-800"):"different"===l&&(i="bg-yellow-500 hover:bg-yellow-600",n="text-white"),(0,e.jsx)("button",{onClick:a,disabled:t,className:`px-5 py-3 rounded-2xl font-semibold shadow-md transition-all transform
        ${i} ${n}
        ${!t&&"hover:scale-105 active:scale-95"}
      `,children:t?(0,e.jsx)(x,{className:"w-5 h-5 animate-spin"}):"same"===l?(0,e.jsx)(p,{className:"w-5 h-5"}):"different"===l?(0,e.jsx)(f,{className:"w-5 h-5"}):(0,e.jsx)(h,{className:"w-5 h-5"})})},k=(0,m.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),b=(0,m.default)("bell-ring",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]]),y=(0,m.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),v=null;function w(){let{canInstall:a,install:l}=function(){let[a,e]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let a=a=>{a.preventDefault(),v=a,e(!0)};return window.addEventListener("beforeinstallprompt",a),window.addEventListener("appinstalled",()=>{v=null,e(!1)}),()=>{window.removeEventListener("beforeinstallprompt",a)}},[]),{canInstall:a,install:async()=>{if(!v)return;v.prompt();let a=await v.userChoice;return v=null,e(!1),a?.outcome}}}();return a?(0,e.jsx)("button",{onClick:l,className:"px-5 py-3 rounded-2xl font-semibold shadow-md bg-[var(--color-royal)] text-white hover:bg-purple-700 transition-all hover:scale-105 active:scale-95",children:(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(y,{className:"w-5 h-5"}),"Install App"]})}):null}var j=a.i(39707);function N(){let{isSupported:a,permission:t,isSubscribed:l,subscribeToPush:i,unsubscribeFromPush:n,loading:s}=(0,j.usePush)();if(!a)return(0,e.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,e.jsxs)("p",{className:"text-sm text-red-500",children:["Browser kamu tidak mendukung push notification.",(0,e.jsx)("br",{}),"Silahkan install sebagai PWA."]}),(0,e.jsx)(w,{})]});if("denied"===t)return(0,e.jsx)("p",{className:"text-sm text-red-500",children:"Kamu menolak notifikasi. Aktifkan kembali dari pengaturan browser."});let r=async()=>{s||(l?await n():await i())},o="bg-[var(--color-royal)] hover:bg-purple-700 text-white";return s?o="bg-gray-500 cursor-not-allowed text-white":l&&(o="bg-[var(--color-royal-accent)] hover:bg-[#e0b86f] text-purple-900"),(0,e.jsx)("button",{disabled:s,onClick:r,className:`px-5 py-3 rounded-2xl font-semibold shadow-md transition-all flex items-center gap-2
        ${o} ${!s&&"hover:scale-105 active:scale-95"}`,children:s?"Processing...":l?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(b,{className:"w-5 h-5"})}):(0,e.jsx)(k,{className:"w-5 h-5"})})}var S=a.i(13487);let z=[{title:"Doa Sebelum Makan",arabic:"اَللّٰهُمَّ بَارِكْ لَنَا فِيْمَا رَزَقْتَنَا وَقِنَا عَذَابَ النَّارِ",latin:"Allahumma baarik lanaa fiimaa rozaqtanaa wa qinaa 'adzaaban naar",translation:"Ya Allah, berkahilah kepada kami apa yang telah Engkau rezekikan kepada kami, dan peliharalah kami dari siksa neraka."},{title:"Doa Sesudah Makan",arabic:"اَلْحَمْدُ ِللهِ الَّذِىْ اَطْعَمَنَا وَسَقَانَا وَجَعَلَنَا مُسْلِمِيْنَ",latin:"Alhamdulillahilladzi ath-amanaa wa saqoonaa wa ja'alanaa minal muslimiin",translation:"Segala puji bagi Allah yang telah memberi kami makan dan minum, serta menjadikan kami termasuk golongan orang-orang muslim."},{title:"Doa Sebelum Tidur",arabic:"بِسْمِكَ اللّهُمَّ اَحْيَا وَاَمُوْتُ",latin:"Bismika Allahumma ahyaa wa amuut",translation:"Dengan nama-Mu ya Allah aku hidup dan aku mati."},{title:"Doa Bangun Tidur",arabic:"اَلْحَمْدُ ِللهِ الَّذِى أَحْيَانَا بَعْدَمَا أَمَاتَنَا وَإِلَيْهِ النُّشُوْرُ",latin:"Alhamdulillahilladzi ahyaanaa ba'damaa amaatanaa wa ilaihin nusyuur",translation:"Segala puji bagi Allah yang menghidupkan kami kembali setelah mematikan kami dan kepada-Nya tempat kembali."},{title:"Doa Masuk Masjid",arabic:"اَللّٰهُمَّ افْتَحْ لِيْ اَبْوَابَ رَحْمَتِكَ",latin:"Allahummaftah lii abwaaba rahmatik",translation:"Ya Allah, bukalah untukku pintu-pintu rahmat-Mu."},{title:"Doa Keluar Masjid",arabic:"اَللّٰهُمَّ اِنِّى اَسْأَلُكَ مِنْ فَضْلِكَ",latin:"Allahumma innii as-aluka min fadhlik",translation:"Ya Allah, aku memohon kepada-Mu akan karunia-Mu."},{title:"Doa Keluar Rumah",arabic:"بِسْمِ اللهِ تَوَكَّلْتُ عَلَى اللهِ، لَا حَوْلَ وَلَا قُوَّةَ إِلَّا بِاللهِ",latin:"Bismillahi tawakkaltu 'alallah, laa haula wa laa quwwata illaa billaah",translation:"Dengan nama Allah, aku bertawakkal kepada Allah. Tiada daya dan kekuatan kecuali dengan Allah."},{title:"Doa Masuk Kamar Mandi / WC",arabic:"اَللّٰهُمَّ اِنِّى اَعُوْذُ بِكَ مِنَ الْخُبُثِ وَالْخَبَآئِثِ",latin:"Allahumma innii a'uudzu bika minal khubutsi wal khabaa-its",translation:"Ya Allah, sesungguhnya aku berlindung kepada-Mu dari godaan setan laki-laki dan perempuan."},{title:"Doa Keluar Kamar Mandi / WC",arabic:"غُفْرَانَكَ الْحَمْدُ ِللهِ الَّذِىْ اَذْهَبَ عَنِّى الْاَذَى وَعَافَانِى",latin:"Ghufraanaka alhamdulillahilladzi adzhaba 'annil adzaa wa 'aafaanii",translation:"Aku memohon ampunan-Mu. Segala puji bagi Allah yang telah menghilangkan kotoran dari badanku dan yang telah menyehatkanku."},{title:"Doa Memakai Pakaian",arabic:"اَللّٰهُمَّ اِنِّى اَسْأَلُكَ مِنْ خَيْرِهِ وَخَيْرِ مَاهُوَ لَهُ وَاَعُوْذُ بِكَ مِنْ شَرِّهِ وَشَرِّ مَاهُوَ لَهُ",latin:"Allahumma innii as-aluka min khairihi wa khairi maa huwa lahu, wa a'uudzu bika min syarrihi wa syarri maa huwa lahu",translation:"Ya Allah, aku memohon kepada-Mu kebaikan pakaian ini dan kebaikan sesuatu yang ada padanya, dan aku berlindung kepada-Mu dari keburukan pakaian ini dan keburukan sesuatu yang ada padanya."},{title:"Doa Bercermin",arabic:"اَللّٰهُمَّ كَمَا حَسَّنْتَ خَلْقِيْ فَحَسِّنْ خُلُقِيْ",latin:"Allahumma kamaa hassanta khalqii fahassin khuluqii",translation:"Ya Allah, sebagaimana Engkau telah membaguskan penciptaanku, maka baguskanlah pula akhlakku."},{title:"Doa Naik Kendaraan",arabic:"سُبْحَانَ الَّذِىْ سَخَّرَلَنَا هَذَا وَمَاكُنَّالَهُ مُقْرِنِيْنَ وَاِنَّآ اِلَى رَبِّنَا لَمُنْقَلِبُوْنَ",latin:"Subhaanalladzi sakhkhara lanaa hadza wamaa kunnaa lahu muqrinina wa innaa ilaa rabbinaa lamunqalibuun",translation:"Maha Suci Allah yang telah menundukkan semua ini bagi kami padahal kami sebelumnya tidak mampu menguasainya, dan sesungguhnya kami akan kembali kepada Tuhan kami."}];function A(){let[a,l]=(0,t.useState)(null),[i,n]=(0,t.useState)(!0),s=()=>{n(!0);let a=z[Math.floor(Math.random()*z.length)];setTimeout(()=>{l(a),n(!1)},300)};return(0,t.useEffect)(()=>{s()},[]),(0,e.jsxs)("div",{className:"w-full bg-white dark:bg-zinc-900 rounded-3xl p-6 shadow-sm border border-gray-100 dark:border-zinc-800",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,e.jsx)("h2",{className:"text-base font-semibold text-gray-800 dark:text-gray-200",children:"Doa Harian"}),(0,e.jsx)("button",{onClick:s,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-zinc-800 transition text-gray-500","aria-label":"Acak Doa",children:(0,e.jsx)(x,{size:18,className:i?"animate-spin":""})})]}),(0,e.jsx)("div",{className:"min-h-[180px] flex flex-col justify-center",children:i?(0,e.jsxs)("div",{className:"animate-pulse space-y-3",children:[(0,e.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3 mx-auto"}),(0,e.jsx)("div",{className:"h-8 bg-gray-200 rounded w-3/4 mx-auto"}),(0,e.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full"})]}):a?(0,e.jsxs)("div",{className:"text-center space-y-4 animate-fadeIn",children:[(0,e.jsx)("h3",{className:"text-lg font-bold text-[var(--color-royal)]",children:a.title}),(0,e.jsx)("p",{className:"font-amiri text-2xl leading-loose text-gray-800 dark:text-gray-100 dir-rtl",children:a.arabic}),(0,e.jsxs)("div",{className:"text-sm space-y-1",children:[(0,e.jsx)("p",{className:"text-[var(--color-royal)]/80 italic",children:a.latin}),(0,e.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:a.translation})]})]}):null})]})}var M=a.i(1593);function D({videos:a}){let[l,i]=(0,t.useState)(null);return a&&0!==a.length?(0,e.jsx)("section",{className:"relative -mx-4",children:(0,e.jsx)("div",{className:" flex gap-4 overflow-x-auto mx-4 snap-x snap-mandatory no-scrollbar pr-16 ",children:a.map((a,t)=>(0,e.jsx)("div",{className:`
              min-w-[85vw] md:min-w-[50%] snap-start
              ${0===t?"ml-4":""}
            `,children:(0,e.jsx)(M.default,{video:a,showUstadz:!0,isActive:l===a.videoId,onPlay:()=>i(a.videoId)})},a.videoId))})}):null}var I=a.i(48501);function C({count:a=5}){return(0,e.jsx)("section",{className:"relative ",children:(0,e.jsx)("div",{className:"flex flex-row gap-4 overflow-x-hidden pr-16",children:Array.from({length:a}).map((a,t)=>(0,e.jsx)("div",{className:`min-w-[85vw] ${0===t?"ml-4":""}`,children:(0,e.jsx)(I.default,{})},t))})})}var $=a.i(60303),T=a.i(33193);function P(){let a=(0,T.getOrCreateUserId)(),{isSubscribed:i}=(0,j.usePush)(),{coords:n,updateCoords:s,getLocationName:r,locationName:o,prayers:d,lastPrayerCoords:c,setPrayerData:m}=(0,$.useLocationContext)(),[h,x]=(0,t.useState)(!1),[f,p]=(0,t.useState)(null),[k,b]=(0,t.useState)([]),[y,v]=(0,t.useState)(!0),{modalOpen:w,requestLocation:z,ignoreLocation:M}=function(a){let[e,l]=(0,t.useState)(null),[i,n]=(0,t.useState)(!0),[s,r]=(0,t.useState)(!1),o=(0,t.useRef)(null),d=(0,t.useCallback)(()=>{"geolocation"in navigator&&null===o.current&&(o.current=navigator.geolocation.watchPosition(e=>{let t={lat:e.coords.latitude,lon:e.coords.longitude,accuracy:e.coords.accuracy};l(t),localStorage.setItem("user_coords",JSON.stringify(t)),a?.(t)},a=>console.error("Location error:",a),{enableHighAccuracy:!0,maximumAge:5e3,timeout:1e4}))},[a]);(0,t.useEffect)(()=>{if(!localStorage.getItem("location_requested")){r(!0),n(!1);return}let e=localStorage.getItem("user_coords");if(e){let t=JSON.parse(e);l(t),a?.(t)}d(),n(!1)},[d,a]);let c=(0,t.useCallback)(()=>(r(!1),n(!0),new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(t=>{localStorage.setItem("location_requested","true");let i={lat:t.coords.latitude,lon:t.coords.longitude,accuracy:t.coords.accuracy};l(i),localStorage.setItem("user_coords",JSON.stringify(i)),a?.(i),d(),n(!1),e(i)},a=>{console.error("Location error:",a),n(!1),t(a)})})),[d,a]),u=(0,t.useCallback)(()=>{localStorage.setItem("location_requested","true"),r(!1)},[]);return(0,t.useEffect)(()=>()=>{null!==o.current&&navigator.geolocation.clearWatch(o.current)},[]),{coords:e,modalOpen:s,loading:i,requestLocation:c,ignoreLocation:u}}(s);(0,t.useEffect)(()=>{if(!n||!a)return;let e=c&&c.lat===n.lat&&c.lon===n.lon;d&&e||(async()=>{try{let e=await fetch("/api/prayer-times",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lat:n.lat,lon:n.lon,userId:a,persist:i})}),t=await e.json();t?.data?.timings&&(m(t.data.timings,n),r(n.lat,n.lon))}catch(a){console.error("Failed fetching prayer times",a)}})()},[n,a,i,d,c,m,r]);let I=async()=>{if(!h){x(!0),p("updating");try{await z(),p("updated")}catch{p("failed")}finally{x(!1)}}};return(0,t.useEffect)(()=>{if(!f)return;let a=setTimeout(()=>p(null),3e3);return()=>clearTimeout(a)},[f]),(0,t.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/ustadz/random-videos"),e=await a.json();b(e?.videos||[])}catch(a){console.error("Failed fetching random videos",a)}finally{v(!1)}})()},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(l,{open:w,onAllow:z,onIgnore:M}),(0,e.jsxs)("div",{className:"flex min-h-screen flex-col bg-zinc-50 dark:bg-black font-sans",children:[(0,e.jsxs)("main",{className:"flex w-full max-w-3xl mx-auto flex-col gap-4 px-4 pt-16 pb-32",children:[(0,e.jsx)(u,{prayers:d,locationName:o}),(0,e.jsxs)("div",{className:"flex items-center gap-3 mt-4",children:[(0,e.jsx)(g,{onUpdate:I,loading:h,locationStatus:f}),(0,e.jsx)(N,{})," "]}),(0,e.jsx)(A,{}),(0,e.jsx)("h2",{className:"mt-6 text-black text-base font-semibold",children:"Kajian Islami Pilihan Hari Ini"}),y&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(C,{})}),!y&&k.length>0&&(0,e.jsx)(D,{videos:k})]}),(0,e.jsx)(S.default,{})]})]})}a.s(["default",()=>P],81694)}]);